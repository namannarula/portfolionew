<!DOCTYPE html>
<html lang='en'>
<head>

  <meta charset='UTF-8'>
  <meta name='viewport' content='width=device-width, initial-scale=1.0'>
  <meta http-equiv='X-UA-Compatible' content='ie=edge'>
  <title>James Akpan</title>
  <link rel='stylesheet' href='./css/index.css'>
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.4.1/jquery.min.js"></script> 
  <script src='https://www.gstatic.com/firebasejs/7.7.0/firebase-app.js'></script>
  <script src='https://www.gstatic.com/firebasejs/7.7.0/firebase-analytics.js'></script>
  <script src="https://www.gstatic.com/firebasejs/7.7.0/firebase-app.js"></script>
  <script src="https://www.gstatic.com/firebasejs/7.7.0/firebase-firestore.js"></script>
  <link href='https://fonts.googleapis.com/css?family=Montserrat:400,500,900&display=swap' rel='stylesheet'> 
  </head>
  <style>
    * { 
      padding: 0;
      margin: 0;
      box-sizing: border-box;
    }
    #messages { 
      width: 70%;
      margin: 0 auto;
      font-family: 'Montserrat', sans-serif;
      margin-top: 15vh;
    }
    #message { 
      background-color: #EE4540;
      color: white;
      padding: 20px;
      width: 50%;
      margin: 2em auto;
    }
    h1, p, h3 { 
      margin: 0.9em 0;
    }
    
  </style>
  <body>
    <div id='messages'>
    </div>
  </body>
  <script>
    // firebase happens here! 
    // Your web app's Firebase configuration
    let firebaseConfig = {
      apiKey: 'AIzaSyCuflF3aJF4Nrm7O2anmBKmNh7zmWMEDac',
      authDomain: 'portfolio-4bd06.firebaseapp.com',
      databaseURL: 'https://portfolio-4bd06.firebaseio.com',
      projectId: 'portfolio-4bd06',
      storageBucket: 'portfolio-4bd06.appspot.com',
      messagingSenderId: '1007627688629',
      appId: '1:1007627688629:web:17c4a447c8394563b2fcfc',
      measurementId: 'G-0FCL7HKDY3'
    };
   // Initialize Firebase
   firebase.initializeApp(firebaseConfig); 
   let db = firebase.firestore();
 
   db.collection('userMessage').get()
     .then(querySnapshot => { 
       querySnapshot.forEach(dataSet => {
         $(`
            <div id='message'>
              <h1 id='userName'>${dataSet.data().name}</h1>
              <p id='userMessage'>${dataSet.data().message}
              </p>
              <h3 id='userEmail'>${dataSet .data().email}</h3>
             </div>
         `).appendTo('#messages');
       })
     })
   </script>
</html>
